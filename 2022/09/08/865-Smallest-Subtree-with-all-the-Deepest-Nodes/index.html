<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Insist on doing small things."><title>865. Smallest Subtree with all the Deepest Nodes | Pinkman Tech Space</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><div class="darkmode-toggle">ğŸŒ“</div><script>var prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)');
var toggle = document.querySelector('.darkmode-toggle');
var html = document.querySelector('html');

html.dataset.dark = localStorage.dark || prefersDarkMode.matches;

toggle.addEventListener('click', () => {
localStorage.dark = !(html.dataset.dark == 'true');
html.dataset.dark = localStorage.dark;
});</script><meta name="generator" content="Hexo 6.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">865. Smallest Subtree with all the Deepest Nodes</h1><a id="logo" href="/.">Pinkman Tech Space</a><p class="description">Insist on doing small things, then witness the magic</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">865. Smallest Subtree with all the Deepest Nodes</h1><div class="post-meta">2022-09-08<span> | </span><span class="category"><a href="/categories/LeetCode-Notes/">LeetCode Notes</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1.4k</span><span class="post-meta-item-text"> Words</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i><span class="post-count"> 6</span><span class="post-meta-item-text"> Minutes</span></span></span></div><div class="post-content"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> deepest;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> found;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">subtreeWithAllDeepest</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(root, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> findSubTree(root, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">helper</span><span class="params">(TreeNode node, <span class="type">int</span> depth)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (depth &gt; deepest) &#123;</span><br><span class="line">            deepest = depth;</span><br><span class="line">            count = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (depth == deepest) &#123;</span><br><span class="line">            count += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(node.left, depth + <span class="number">1</span>);</span><br><span class="line">        helper(node.right, depth + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">findSubTree</span><span class="params">(TreeNode node, <span class="type">int</span> depth)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">foundNodes</span> <span class="operator">=</span> found;</span><br><span class="line">        <span class="keyword">if</span> (depth == deepest) &#123;</span><br><span class="line">            found += <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (found - foundNodes == count) &#123;</span><br><span class="line">                <span class="keyword">return</span> node;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftTree</span> <span class="operator">=</span> findSubTree(node.left, depth + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (leftTree != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> leftTree;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (found - foundNodes == count) &#123;</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightTree</span> <span class="operator">=</span> findSubTree(node.right, depth + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (rightTree != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rightTree;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (found - foundNodes == count) &#123;</span><br><span class="line">            <span class="keyword">return</span> node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯æˆ‘è‡ªå·±å†™çš„ç¬¬ä¸€ç‰ˆ. é¦–å…ˆæ˜¯çœ‹deepest nodesçš„countæ˜¯å¤šå°‘. ç„¶åçœ‹å“ªä¸ªæ ‘åŒ…å«äº†æ‰€æœ‰çš„. ç”±äºæ˜¯é€’å½’, å› æ­¤ä»ä¸‹åˆ°ä¸Šç¬¬ä¸€ä¸ªé‡åˆ°çš„åŒ…å«æ‰€æœ‰çš„deepest nodesçš„nodeå°±æ˜¯ç­”æ¡ˆ. é€’å½’å‡½æ•°ç­‰äºæ˜¯åœ¨dfs, ç„¶ååˆ°ä¸€ä¸ªnodeçš„æ—¶å€™çœ‹æ‰¾åˆ°äº†å¤šå°‘ä¸ªdeepest nodes, å›æ¥çš„æ—¶å€™åˆæ‰¾åˆ°äº†å¤šå°‘ä¸ª. åªæœ‰æ˜¯åˆšæ¥çš„æ—¶å€™ä¸€ä¸ªæ²¡æ‰¾åˆ°, å›æ¥çš„æ—¶å€™å‘ç°å…¨æ‰¾åˆ°äº†. è¿™å°±æ˜¯LCAçš„ç‰¹å¾.</p>
<p>å…¶å®ä»”ç»†æƒ³ä¸€æƒ³, æ‰€æœ‰deepest nodesçš„LCA, å¦‚æœåªæœ‰ä¸€ä¸ªdeepest node, é‚£ä¹ˆå®ƒè‡ªå·±å°±æ˜¯LCA; å¦‚æœæœ‰å¤šä¸ª, é‚£ä¹ˆä»»ä½•ä¸€ä¸ªdeepest nodeéƒ½ä¸å¯èƒ½æ˜¯LCA. æœ‰äº†è¿™ä¸ªåˆ¤æ–­, å…¶å®æˆ‘ä»¬ä¹‹å‰å†™çš„ç­”æ¡ˆé‡Œé¢æœ‰äº›å°±æ˜¯å†—ä½™çš„. æ¯”å¦‚33è¡Œçš„åˆ¤æ–­, è¿™ä¸€è¡Œåªæœ‰åœ¨ä¸€ä¸ªåœ°æ–¹ä¼šæ¿€æ´»é‚£å°±æ˜¯å¦‚æœåªæœ‰ä¸€ä¸ªdeepest nodeçš„æ—¶å€™. å…¶å®æˆ‘ä»¬å¯ä»¥å…ˆæ‰¾å·¦æ”¯, å†æ‰¾å³æ”¯, æœ€åå†çœ‹è‡ªå·±æ˜¯ä¸æ˜¯deepest. æœ€åå†åˆ¤æ–­è‡ªå·±ä»£è¡¨çš„æ ‘æ˜¯å¦åŒ…å«äº†æ‰€æœ‰çš„deepest. è¿™æ ·çš„è¯å³ä½¿æ˜¯åªæœ‰ä¸€ä¸ªdeepestçš„æƒ…å†µ, å…ˆçœ‹å·¦å†çœ‹å³ä¼šé‡åˆ°nullç›´æ¥è¿”å›å›æ¥, ä¹Ÿä¸æ€ä¹ˆè€—è´¹ä¸œè¥¿. è€Œä¸”éœ€è¦æ³¨æ„çš„æ˜¯æˆ‘ä»¬åœ¨éå†å®Œå·¦æ ‘å, åªéœ€è¦åˆ¤æ–­å·¦æ ‘æ˜¯å¦æ‰¾åˆ°äº†LCA, ä¸éœ€è¦åˆ¤æ–­æ­¤æ—¶è‡ªå·±æ˜¯ä¸æ˜¯å°±æ˜¯LCA. å› ä¸ºå¦‚æœä¸€ä¸ªnodeæ˜¯LCA, é‚£å®ƒå·¦å³ä¸¤æ”¯æ ‘ä¸€å®šéƒ½åŒ…å«æœ‰deepest nodes(é™¤äº†åªæœ‰ä¸€ä¸ªdeepest nodeçš„æƒ…å†µ). ä¸ºä»€ä¹ˆ? æˆ‘ä»¬æƒ³åƒæ‰€æœ‰çš„deepest nodeséƒ½å¾€ä¸Šèµ°, æœ€ç»ˆä¼šäº¤æ±‡åˆ°ä¸€ä¸ªç‚¹, è¿™ä¸ªç‚¹å°±æ˜¯LCA. å‡è®¾è¿™ä¸ªç‚¹æ²¡æœ‰ä¸€è¾¹çš„æ”¯, é‚£ä¹ˆç­‰äºè¯´æ˜¯æ‰€æœ‰çš„deepest nodes å…¨éƒ½æ˜¯ä»ä¸€æ¡è·¯æ¥åˆ°äº†è¿™ä¸ªnode. é‚£è¿™æ ·çš„è¯, è¯¥nodeå”¯ä¸€çš„childå²‚ä¸æ˜¯æ¯”è¯¥nodeæ›´é ä¸‹, è€Œä¸”ä¹ŸåŒ…å«äº†æ‰€æœ‰çš„deeepst nodes? å› æ­¤æˆ‘ä»¬çš„å‡è®¾ä¸æˆç«‹.</p>
<p>å½“æˆ‘ä»¬æŠŠå·¦å³ä¸¤æ ‘éƒ½æ‰¾å®Œå, å†åˆ¤æ–­è‡ªå·±æ˜¯å¦æ˜¯deepest, ç„¶ååªæœ‰è¿™æ ·, å†åˆ¤æ–­è‡ªå·±æ˜¯å¦ä¸ºLCA.<br>å› æ­¤å¯ä»¥å†™æˆä¸‹é¢è¿™ä¸ªæ ·å­:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> deepest;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> found;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">subtreeWithAllDeepest</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(root, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> findSubTree(root, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">helper</span><span class="params">(TreeNode node, <span class="type">int</span> depth)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (depth &gt; deepest) &#123;</span><br><span class="line">            deepest = depth;</span><br><span class="line">            count = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (depth == deepest) &#123;</span><br><span class="line">            count += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        helper(node.left, depth + <span class="number">1</span>);</span><br><span class="line">        helper(node.right, depth + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> TreeNode <span class="title function_">findSubTree</span><span class="params">(TreeNode node, <span class="type">int</span> depth)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">foundNodes</span> <span class="operator">=</span> found;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">leftTree</span> <span class="operator">=</span> findSubTree(node.left, depth + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (leftTree != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> leftTree;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">rightTree</span> <span class="operator">=</span> findSubTree(node.right, depth + <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (rightTree != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> rightTree;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (depth == deepest) &#123;</span><br><span class="line">            found += <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> found - foundNodes == count ? node : <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·çœ‹èµ·æ¥å°±æ¼‚äº®å¤šäº†.</p>
<p>æ—¶é—´å¤æ‚åº¦: O(n)<br>ç©ºé—´å¤æ‚åº¦: O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">subtreeWithAllDeepest</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> helper(root).getValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Pair&lt;Integer, TreeNode&gt; <span class="title function_">helper</span><span class="params">(TreeNode node)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>(<span class="number">0</span>, <span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Pair&lt;Integer, TreeNode&gt; left = helper(node.left);</span><br><span class="line">        Pair&lt;Integer, TreeNode&gt; right = helper(node.right);</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftDepth</span> <span class="operator">=</span> left.getKey();</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightDepth</span> <span class="operator">=</span> right.getKey();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Pair</span>(Math.max(leftDepth, rightDepth) + <span class="number">1</span>,</span><br><span class="line">                leftDepth == rightDepth ? node : leftDepth &gt; rightDepth ? left.getValue() : right.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Leeå“¥çš„ç¥è§£æ³•. ä¹‹å‰è®¨è®ºçš„æ˜¯å¦‚æœæ˜¯æ‰€æœ‰deepest nodesçš„LCA, é‚£ä¹ˆå®ƒä»¬çš„å·¦å³è‚¯å®šéƒ½æœ‰deepest nodes. æ¢å¥è¯è¯´, å®ƒä»¬çš„å·¦å³æ ‘çš„heightè‚¯å®šæ˜¯ä¸€æ ·çš„. å½“ç„¶ä¹Ÿæœ‰å¯èƒ½ä¸æ˜¯LCAçš„nodeåŒæ ·æ»¡è¶³è¿™ä¸ªæ¡ä»¶, é‚£å¦‚ä½•åŒºåˆ†å®ƒä»¬çš„? é‚£å°±æ˜¯çœ‹æœ€å¤§çš„height. æˆ‘ä»¬å…ˆçœ‹è‡ªå·±çš„å·¦å³æ”¯çš„heightæ˜¯å¦ç›¸åŒ, å¦‚æœç›¸åŒ, æˆ‘ä»¬å°±è¿”å›è‡ªå·±, å¦‚æœä¸ç›¸åŒ, é‚£å°±è¿”å›æœ€å¤§çš„é‚£ä¸ª, å› ä¸ºè¿™ä¸ªå¾ˆæœ‰å¯èƒ½å°±æ˜¯ç­”æ¡ˆ.</p>
<p>æŒ‰ç…§ä¸Šé¢çš„é€»è¾‘, æˆ‘ä»¬æœ€ç»ˆå¾—åˆ°çš„å°±æ˜¯é‚£ä¸ªå·¦å³æ”¯heightç›¸åŒçš„nodeå¹¶ä¸”å®ƒæ‰€åŒ…å«çš„nodeæ˜¯æœ€æ·±çš„.</p>
<p>æ—¶é—´å¤æ‚åº¦: O(n)<br>ç©ºé—´å¤æ‚åº¦: O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">deepest</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">TreeNode</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> TreeNode <span class="title function_">subtreeWithAllDeepest</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        dfs(root, <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(TreeNode node, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">            deepest = Math.max(deepest, level);</span><br><span class="line">            <span class="keyword">return</span> level;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftDeepest</span> <span class="operator">=</span> dfs(node.left, level + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightDeepest</span> <span class="operator">=</span> dfs(node.right, level + <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">currDeepest</span> <span class="operator">=</span> Math.max(leftDeepest, rightDeepest);</span><br><span class="line">        <span class="keyword">if</span> (leftDeepest == deepest &amp;&amp; rightDeepest == deepest) &#123;</span><br><span class="line">            ans = node;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> currDeepest;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªæœ€å¥½ç†è§£. é€’å½’å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯æˆ‘ä»¬ä¼ è¿›å»ä¸€ä¸ªtree, å®ƒå‘Šè¯‰æˆ‘ä»¬è¿™ä¸ªtreeåŒ…å«çš„nodesä¸­, æœ€æ·±çš„nodeçš„depthæ˜¯å¤šå°‘. æ ¹æ®æˆ‘ä»¬ä¹‹å‰çš„è¯æ˜, æ‰€æœ‰deepest nodesçš„å·¦æ ‘å’Œå³æ ‘éƒ½åº”è¯¥åŒ…å«deepest nodes(å½“ç„¶å¦‚æœåªæœ‰ä¸€ä¸ªdeepest nodesé™¤å¤–). å› æ­¤æˆ‘ä»¬å¯ä»¥æŠŠnullå‡è®¾ä¹Ÿä¸ºnodes, è¿™æ ·çš„è¯, å³ä½¿åªæœ‰ä¸€ä¸ªdeepest non-null node, å®ƒä¹Ÿæ»¡è¶³å·¦å³æ ‘éƒ½åŒ…å«deepest nodes, å°½ç®¡è¿™ä¸¤ä¸ªnodeséƒ½æ˜¯null. äºæ˜¯æˆ‘ä»¬ç”¨ä¸€ä¸ªglobal variableè®°å½•deepestæ˜¯å¤šå°‘. æˆ‘ä»¬çŸ¥é“deepeståªèƒ½åœ¨nullå¤„è¾¾åˆ°. å› æ­¤åœ¨é‡åˆ°nullçš„æ—¶å€™æ›´æ–°deepestå³å¯.</p>
<p>æ—¶é—´å¤æ‚åº¦: O(n)<br>ç©ºé—´å¤æ‚åº¦: O(n)</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2022/09/08/1559-Detect-Cycles-in-2D-Grid/">1559. Detect Cycles in 2D Grid</a><a class="next" href="/2022/09/08/742-Closest-Leaf-in-a-Binary-Tree/">742. Closest Leaf in a Binary Tree</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="author-info"><a class="info-avatar" href="/about/" title="About"><img src="/img/dark_side_of_the_moon.jpeg"/></a><p>Calm Patient Persistent</p><a class="info-icon" href="mailto:tongxinn@andrew.cmu.edu" title="Email" target="_blank" style="margin-inline:5px"> <i class="fa fa-envelope-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://github.com/FelderMountain" title="Github" target="_blank" style="margin-inline:5px"> <i class="fa fa-github-square" style="margin-inline:5px"></i></a><a class="info-icon" href="https://www.linkedin.com/in/tongxin-niu" title="LinkedIn" target="_blank" style="margin-inline:5px"> <i class="fa fa-linkedin-square" style="margin-inline:5px"></i></a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Always-Review-Here/">Always Review Here</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LeetCode-Notes/">LeetCode Notes</a><span class="category-list-count">329</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Templates/">Templates</a><span class="category-list-count">17</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="https://leetcode.com/Pinkman_Ox/" title="Pinkman LeetCode" target="_blank">Pinkman LeetCode</a><ul></ul><a href="https://www.youtube.com/watch?v=PLIAp5nr0q0" title="Live Aid (Queen) [1985, London, Wembly Stadium]" target="_blank">Live Aid (Queen) [1985, London, Wembly Stadium]</a><ul></ul><a href="https://www.bilibili.com/video/BV15f4y1p7Gq?spm_id_from=333.337.search-card.all.click&amp;vd_source=36313f6ca20b47d3b8d1740651933b35" title="Hotel California (Eagles) [1994, Hell Freezes Over]" target="_blank">Hotel California (Eagles) [1994, Hell Freezes Over]</a><ul></ul><a href="https://www.youtube.com/watch?v=FcoUvu0mGog" title="Fade to Black (Metallica) [2018, Lincoln, NE]" target="_blank">Fade to Black (Metallica) [2018, Lincoln, NE]</a><ul></ul><a href="https://www.youtube.com/watch?v=Ly6ZhQVnVow" title="Stairway To Heaven (Led Zeppelin) [1975, Live at Earls Court]" target="_blank">Stairway To Heaven (Led Zeppelin) [1975, Live at Earls Court]</a><ul></ul><a href="https://www.youtube.com/watch?v=HUTbH6ywrXk" title="å¿ƒã‚’é–‹ã„ã¦ (å‚äº•æ³‰æ°´ - ZARD)" target="_blank">å¿ƒã‚’é–‹ã„ã¦ (å‚äº•æ³‰æ°´ - ZARD)</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2022 <a href="/." rel="nofollow">Pinkman Tech Space.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>